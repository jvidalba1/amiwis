<h1>Grupos</h1>
<div class="table-responsive">
  <table class="table">
    <thead>
      <tr>
        <th>Nombre del grupo</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @groups.each do |group| %>
        <tr>
          <td><%= group.name %></td>
          <td>
            <% if(group.admin == current_user) %>
              <p>Eres admin</p>
            <% elsif(current_user.member?(group)) %>
              <p>Eres miembro</p>
            <% elsif(group.group_requests(current_user).any?) %>
              <p>Solicitud enviada</p>
            <% else %>
              <%= link_to('Solicitar ingreso',
                group_user_requests_path(
                  group_id: group.id,
                  user_id: current_user.id
                ),
                method: :post
              )%>
            <% end %>
          </td>
          <td><%= link_to 'Ver', group %></td>
          <td>
            <% if(group.admin == current_user) %>
              <%= link_to 'Editar', edit_group_path(group) %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<br>

<%= link_to 'New Group', new_group_path %>
